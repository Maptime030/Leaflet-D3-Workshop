<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Amersfoort New TMS in Leaflet</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="author" content="Edward Mac Gillavry">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
    <style>
        #map-canvas, html, body {
            width: 100%; height: 100%; padding: 0; margin: 0;
        }

        #map-canvas { 
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAACVBMVEUAAADl5eX////EwbxGAAAAAXRSTlMAQObYZgAAABFJREFUeAFjYESCKACdT38ZAAWhAAxcPQc7AAAAAElFTkSuQmCC) repeat scroll 0 0 #f9f9f9;
            cursor: move;
            -webkit-tap-highlight-color: transparent;
        }
    </style>
    <body>
        <div id="map-canvas"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.12/proj4.js"></script>
        <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
        <script src="https://cdn.rawgit.com/kartena/Proj4Leaflet/leaflet-proj-refactor/src/proj4leaflet.js"></script>
        <script>
            var RD = new L.Proj.CRS( 'EPSG:28992','+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 +no_defs',
                {
                    resolutions: [3440.640, 1720.320, 860.160, 430.080, 215.040, 107.520, 53.760, 26.880, 13.440, 6.720, 3.360, 1.680, 0.840, 0.420],
                    bounds: L.bounds([-285401.92, 22598.08], [595401.9199999999, 903401.9199999999]),
                    origin: [-285401.92, 22598.08]
                }
            );

            var map = new L.Map('map-canvas', {
                crs: RD
            });

            map.attributionControl.setPrefix('');

            new L.TileLayer('http://geodata.nationaalgeoregister.nl/tms/1.0.0/brtachtergrondkaart/{z}/{x}/{y}.png', {
                minZoom: 0,
                maxZoom: 13,
                tms: true,
                attribution: 'Map data: <a href="http://www.kadaster.nl">Kadaster</a>'
            }).addTo(map);
            
            map.setView(new L.LatLng(52.0940,5.1096),9);
        </script>
    </body>
</html>
